<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<ui:composition 
  xmlns="http://www.w3.org/1999/xhtml" 
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:ui="http://java.sun.com/jsf/facelets" 
  xmlns:p="http://primefaces.org/ui" >
  <h:form
    id="frmDatosBasicos"
    prependId="false"
    enctype="multipart/form-data">
    <p:panel
      id="pnlDatosBasicos">
      <p:panelGrid
        columns="2">
        <!-- identificacion -->
        <p:outputLabel
          for="identificacion"
          value="#{bundle['empleado.identificacion']}"/>
        <h:panelGroup>
          <h:outputText
            value="#{empleadoController.selected.identificacion}"
            rendered="#{!empleadoController.editable}"/>
          <p:inputText
            id="identificacion"
            value="#{empleadoController.selected.identificacion}"
            rendered="#{empleadoController.editable}"/>
          <p:message
            for="identificacion"/>
        </h:panelGroup>
        <!-- identificacionTipo -->
        <p:outputLabel
          for="identificacionTipo"
          value="#{bundle['tipoidentificacion']}"/>
        <h:panelGroup>
          <h:outputText
            value="#{empleadoController.selected.identificacionTipo.nombre}"
            rendered="#{!empleadoController.editable}"/>
          <p:selectOneMenu 
            id="identificacionTipo" 
            value="#{empleadoController.selected.identificacionTipo}" 
            converter="itemConverter"
            required="true"
            rendered="#{empleadoController.editable}">
            <f:selectItem 
              noSelectionOption="true"/>
            <f:selectItems 
              value="#{comunController.obtenerTiposIdentificaciones()}" 
              var="record" 
              itemLabel="#{record.nombre}" 
              itemValue="#{record}" />
          </p:selectOneMenu>              
          <p:message
            for="identificacionTipo"/>
        </h:panelGroup>
        <!-- identificacionLugarExpedicion -->
        <p:outputLabel
          value="#{bundle['lugarexpedicionidentificacion']}"/>
        <h:panelGroup>
          <h:outputText
            value="#{empleadoController.selected.identificacionLugarExpedicion.nombre}"
            rendered="#{!empleadoController.editable}"/>
          <p:panelGrid
            columns="2"
            rendered="#{empleadoController.editable}">
            <h:panelGroup>
              <!-- departamento -->
              <p:selectOneMenu 
                id="lugarexpediciondepartamento" 
                value="#{empleadoController.selected.identificacionLugarExpedicion.departamento}" 
                converter="deptoConverter"
                required="true">
                <p:ajax 
                  update="lugarexpedicionmunicipio" />
                <f:selectItem 
                  noSelectionOption="true"
                  itemLabel="#{bundle['depto']}"/>
                <f:selectItems 
                  value="#{comunController.obtenerDepartamentos()}" 
                  var="record" 
                  itemLabel="#{record.nombre}" 
                  itemValue="#{record}" />
              </p:selectOneMenu>
              <p:message
                for="lugarexpediciondepartamento"/>
            </h:panelGroup>
            <h:panelGroup>
              <!-- municipio -->
              <p:selectOneMenu 
                id="lugarexpedicionmunicipio" 
                value="#{empleadoController.selected.identificacionLugarExpedicion}" 
                converter="municipioConverter"
                required="true">
                <f:selectItem 
                  noSelectionOption="true"
                  itemLabel="#{bundle['municipio']}"/>
                <f:selectItems 
                  value="#{comunController.obtenerMunicipios(empleadoController.selected.identificacionLugarExpedicion.departamento.id)}" 
                  var="record" 
                  itemLabel="#{record.nombre}" 
                  itemValue="#{record}" />
              </p:selectOneMenu>              
              <p:message
                for="lugarexpedicionmunicipio"/>
            </h:panelGroup>
          </p:panelGrid>
        </h:panelGroup>
        <!-- nombres -->
        <p:outputLabel
          for="nombre"
          value="#{bundle['empleado.nombres']}"/>
        <h:panelGroup>
          <h:outputText
            value="#{empleadoController.selected.nombres}"
            rendered="#{!empleadoController.editable}"/>
          <p:inputText
            id="nombre"
            value="#{empleadoController.selected.nombres}"
            rendered="#{empleadoController.editable}"/>
          <p:message
            for="nombre"/>
        </h:panelGroup>
        <!-- apellidos -->
        <p:outputLabel
          for="apellidos"
          value="#{bundle['empleado.apellidos']}"/>
        <h:panelGroup>
          <h:outputText
            value="#{empleadoController.selected.apellidos}"
            rendered="#{!empleadoController.editable}"/>
          <p:inputText
            id="apellidos"
            value="#{empleadoController.selected.apellidos}"
            rendered="#{empleadoController.editable}"/>
          <p:message
            for="apellidos"/>
        </h:panelGroup>
        <!-- estado -->
        <p:outputLabel
          for="estado"
          value="#{bundle['empleado.estado']}"/>
        <h:panelGroup>
          <h:outputText 
            value="#{empleadoController.selected.estado ? bundle['commons.lbl.active'] : bundle['commons.lbl.inactive']}"
            rendered="#{!empleadoController.editable}"/>
          <p:selectBooleanButton 
            id="estado" 
            value="#{empleadoController.selected.estado}" 
            onLabel="#{bundle['commons.lbl.active']}" 
            offLabel="#{bundle['commons.lbl.inactive']}" 
            style="width:80px" 
            rendered="#{empleadoController.editable}"/>
          <p:message
            for="estado"/>
        </h:panelGroup>
        <!-- email -->
        <p:outputLabel
          for="email"
          value="#{bundle['empleado.email']}"/>
        <h:panelGroup>
          <h:outputText
            value="#{empleadoController.selected.email}"
            rendered="#{!empleadoController.editable}"/>
          <p:inputText
            id="email"
            value="#{empleadoController.selected.email}"
            rendered="#{empleadoController.editable}"/>
          <p:message
            for="email"/>
        </h:panelGroup>
        <!-- estadoCivil -->
        <p:outputLabel
          for="estadoCivil"
          value="#{bundle['estadovivil']}"/>
        <h:panelGroup>
          <h:outputText
            value="#{empleadoController.selected.estadoCivil.nombre}"
            rendered="#{!empleadoController.editable}"/>
          <p:selectOneMenu 
            id="estadoCivil" 
            value="#{empleadoController.selected.estadoCivil}" 
            converter="itemConverter"
            required="true"
            rendered="#{empleadoController.editable}">
            <f:selectItem 
              noSelectionOption="true"/>
            <f:selectItems 
              value="#{comunController.obtenerEstadosCiviles()}" 
              var="record" 
              itemLabel="#{record.nombre}" 
              itemValue="#{record}" />
          </p:selectOneMenu>              
          <p:message
            for="estadoCivil"/>
        </h:panelGroup>
        <!-- rh -->
        <p:outputLabel
          for="rh"
          value="#{bundle['rh']}"/>
        <h:panelGroup>
          <h:outputText
            value="#{empleadoController.selected.rh.nombre}"
            rendered="#{!empleadoController.editable}"/>
          <p:selectOneMenu 
            id="rh" 
            value="#{empleadoController.selected.rh}" 
            converter="itemConverter"
            required="true"
            rendered="#{empleadoController.editable}">
            <f:selectItem 
              noSelectionOption="true"/>
            <f:selectItems 
              value="#{comunController.obtenerRHs()}" 
              var="record" 
              itemLabel="#{record.nombre}" 
              itemValue="#{record}" />
          </p:selectOneMenu>              
          <p:message
            for="rh"/>
        </h:panelGroup>
        <!-- genero -->
        <p:outputLabel
          for="genero"
          value="#{bundle['genero']}"/>
        <h:panelGroup>
          <h:outputText
            value="#{empleadoController.selected.genero.nombre}"
            rendered="#{!empleadoController.editable}"/>
          <p:selectOneMenu 
            id="genero" 
            value="#{empleadoController.selected.genero}" 
            converter="itemConverter"
            required="true"
            rendered="#{empleadoController.editable}">
            <f:selectItem 
              noSelectionOption="true"/>
            <f:selectItems 
              value="#{comunController.obtenerGeneros()}" 
              var="record" 
              itemLabel="#{record.nombre}" 
              itemValue="#{record}" />
          </p:selectOneMenu>              
          <p:message
            for="genero"/>
        </h:panelGroup>
        <!-- municipio -->
        <p:outputLabel
          value="#{bundle['municipio']}"/>
        <h:panelGroup>
          <h:outputText
            value="#{empleadoController.selected.municipio.nombre}"
            rendered="#{!empleadoController.editable}"/>
          <p:panelGrid
            columns="2"
            rendered="#{empleadoController.editable}">
            <h:panelGroup>
              <!-- departamento -->
              <p:selectOneMenu 
                id="departamento" 
                value="#{empleadoController.selected.municipio.departamento}" 
                converter="deptoConverter"
                required="true">
                <p:ajax 
                  update="municipio" />
                <f:selectItem 
                  noSelectionOption="true"
                  itemLabel="#{bundle['depto']}"/>
                <f:selectItems 
                  value="#{comunController.obtenerDepartamentos()}" 
                  var="record" 
                  itemLabel="#{record.nombre}" 
                  itemValue="#{record}" />
              </p:selectOneMenu>              
              <p:message
                for="departamento"/>
            </h:panelGroup>
            <h:panelGroup>
              <!-- municipio -->
              <p:selectOneMenu 
                id="municipio" 
                value="#{empleadoController.selected.municipio}" 
                converter="municipioConverter"
                required="true">
                <f:selectItem 
                  noSelectionOption="true"
                  itemLabel="#{bundle['municipio']}"/>
                <f:selectItems 
                  value="#{comunController.obtenerMunicipios(empleadoController.selected.municipio.departamento.id)}" 
                  var="record" 
                  itemLabel="#{record.nombre}" 
                  itemValue="#{record}" />
              </p:selectOneMenu>              
              <p:message
                for="municipio"/>
            </h:panelGroup>
          </p:panelGrid>
        </h:panelGroup>
        <!-- lugar -->
        <p:outputLabel
          for="lugar"
          value="#{bundle['empleado.lugar']}"/>
        <h:panelGroup>
          <h:outputText
            value="#{empleadoController.selected.lugar}"
            rendered="#{!empleadoController.editable}"/>
          <p:inputText
            id="lugar"
            value="#{empleadoController.selected.lugar}"
            rendered="#{empleadoController.editable}"/>
          <p:message
            for="lugar"/>
        </h:panelGroup>
        <!-- direccion -->
        <p:outputLabel
          for="direccion"
          value="#{bundle['empleado.direccion']}"/>
        <h:panelGroup>
          <h:outputText
            value="#{empleadoController.selected.direccion}"
            rendered="#{!empleadoController.editable}"/>
          <p:inputText
            id="direccion"
            value="#{empleadoController.selected.direccion}"
            rendered="#{empleadoController.editable}"/>
          <p:message
            for="direccion"/>
        </h:panelGroup>
        <!-- tipoContrato -->
        <p:outputLabel
          for="tipoContrato"
          value="#{bundle['tipocontrato']}"/>
        <h:panelGroup>
          <h:outputText
            value="#{empleadoController.selected.tipoContrato.nombre}"
            rendered="#{!empleadoController.editable}"/>
          <p:selectOneMenu 
            id="tipoContrato" 
            value="#{empleadoController.selected.tipoContrato}" 
            converter="itemConverter"
            required="true"
            rendered="#{empleadoController.editable}">
            <f:selectItem 
              noSelectionOption="true"/>
            <f:selectItems 
              value="#{comunController.obtenerTiposContratos()}" 
              var="record" 
              itemLabel="#{record.nombre}" 
              itemValue="#{record}" />
          </p:selectOneMenu>              
          <p:message
            for="tipoContrato"/>
        </h:panelGroup>
        <!-- cargo -->
        <p:outputLabel
          for="cargo"
          value="#{bundle['cargo']}"/>
        <h:panelGroup>
          <h:outputText
            value="#{empleadoController.selected.cargo.nombre}"
            rendered="#{!empleadoController.editable}"/>
          <p:selectOneMenu 
            id="cargo" 
            value="#{empleadoController.selected.cargo}" 
            converter="itemConverter"
            required="true"
            rendered="#{empleadoController.editable}">
            <f:selectItem 
              noSelectionOption="true"/>
            <f:selectItems 
              value="#{comunController.obtenerCargos()}" 
              var="record" 
              itemLabel="#{record.nombre}" 
              itemValue="#{record}" />
          </p:selectOneMenu>              
          <p:message
            for="cargo"/>
        </h:panelGroup>
        <!-- centroTrabajo -->
        <p:outputLabel
          for="centroTrabajo"
          value="#{bundle['centrotrabajo']}"/>
        <h:panelGroup>
          <h:outputText
            value="#{empleadoController.selected.centroTrabajo.nombre}"
            rendered="#{!empleadoController.editable}"/>
          <p:selectOneMenu 
            id="centroTrabajo" 
            value="#{empleadoController.selected.centroTrabajo}" 
            converter="centroTrabajoConverter"
            required="true"
            rendered="#{empleadoController.editable}">
            <f:selectItem 
              noSelectionOption="true"/>
            <f:selectItems 
              value="#{comunController.obtenerCentrosTrabajo()}" 
              var="record" 
              itemLabel="#{record.nombre}"
              itemValue="#{record}" />
          </p:selectOneMenu>              
          <p:message
            for="centroTrabajo"/>
        </h:panelGroup>
        <!-- macroProyecto -->
        <p:outputLabel
          for="macroProyecto"
          value="#{bundle['macroproyecto']}"/>
        <h:panelGroup>
          <h:outputText
            value="#{empleadoController.selected.macroProyecto.nombre}"
            rendered="#{!empleadoController.editable}"/>
          <p:selectOneMenu 
            id="macroProyecto" 
            value="#{empleadoController.selected.macroProyecto}" 
            converter="itemConverter"
            required="true"
            rendered="#{empleadoController.editable}">
            <f:selectItem 
              noSelectionOption="true"/>
            <f:selectItems 
              value="#{comunController.obtenerMacroproyectos()}" 
              var="record" 
              itemLabel="#{record.nombre}"
              itemValue="#{record}" />
          </p:selectOneMenu>              
          <p:message
            for="macroProyecto"/>
        </h:panelGroup>
        <!-- centroMedico -->
        <p:outputLabel
          for="centroMedico"
          value="#{bundle['centromedico']}"/>
        <h:panelGroup>
          <h:outputText
            value="#{empleadoController.selected.centroMedico.nombre}"
            rendered="#{!empleadoController.editable}"/>
          <p:selectOneMenu 
            id="centroMedico" 
            value="#{empleadoController.selected.centroMedico}" 
            converter="centroMedicoConverter"
            required="true"
            rendered="#{empleadoController.editable}">
            <f:selectItem 
              noSelectionOption="true"/>
            <f:selectItems 
              value="#{comunController.obtenerCentrosMedicos()}" 
              var="record" 
              itemLabel="#{record.nombre}"
              itemValue="#{record}" />
          </p:selectOneMenu>              
          <p:message
            for="centroMedico"/>
        </h:panelGroup>
        <!-- curriculum -->
        <p:outputLabel
          for="curriculum"
          value="#{bundle['empleado.curriculum']}"/>
        <h:panelGroup>
          <h:outputText
            id="curriculumNombre"
            value="#{empleadoController.selected.curriculum.nameWhitExtension}"/>
          <p:fileUpload 
            id="curriculum"
            fileUploadListener="#{empleadoController.handleFileUpload}" 
            mode="advanced"
            auto="true" 
            update="curriculumNombre"
            rendered="#{empleadoController.editable}"/>
          <p:message
            for="curriculum"/>
        </h:panelGroup>
      </p:panelGrid>
      <f:facet name="footer">
        <p:commandButton 
          title="#{bundle['commons.btn.save']}"
          icon="ui-icon-disk"
          actionListener="#{empleadoController.onSave()}"
          rendered="#{empleadoController.editable}"
          process="pnlDatosBasicos"
          update="frmDatosBasicos"/>
        <p:commandButton 
          title="#{bundle['commons.btn.cancel']}"
          icon="ui-icon-circle-close"
          actionListener="#{empleadoController.onCancel()}"
          immediate="true"
          rendered="#{empleadoController.editable}"
          update=":main"/>
      </f:facet>
    </p:panel>
  </h:form>
</ui:composition>