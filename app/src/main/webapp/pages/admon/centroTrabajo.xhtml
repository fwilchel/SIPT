<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml" 
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets" 
    xmlns:p="http://primefaces.org/ui" 
    template="/resources/templates/default/template.left-panel.xhtml">
    <ui:define
        name="content">
        <h:panelGroup 
            id="main"
            layout="block">
            <h:form
                id="frmList"
                prependId="false"
                rendered="#{centroTrabajoController.showList}">
                <p:toolbar>
                    <f:facet 
                        name="left">
                        <h:outputText 
                            value="#{bundle['centrotrabajo.title']}"
                            styleClass="toolbar-title"/>
                    </f:facet>
                    <f:facet 
                        name="right">
                        <p:commandButton 
                            title="#{bundle['commons.btn.refresh']}"
                            icon="ui-icon-refresh"
                            actionListener="#{centroTrabajoController.loadList()}"
                            disabled="#{centroTrabajoController.editable}"
                            update="dtList"/>
                        <p:commandButton 
                            id="btnCreate" 
                            title="#{bundle['commons.btn.new']}"
                            icon="ui-icon-document"
                            actionListener="#{centroTrabajoController.onCreate()}"
                            update=":main"/>
                        <p:commandButton 
                            type="button" 
                            title="#{bundle['commons.btn.print']}" 
                            icon="ui-icon-print" />
                    </f:facet>
                </p:toolbar>
                <p:dataTable 
                    id="dtList"
                    value="#{centroTrabajoController.list}"
                    var="record"
                    paginator="false" 
                    selectionMode="single" 
                    selection="#{centroTrabajoController.selected}" 
                    rowKey="#{record.id}">
                    <p:ajax 
                        event="rowSelect" 
                        listener="#{centroTrabajoController.onRowSelect}" 
                        update=":main" />
                    <p:column 
                        headerText="#{bundle['centrotrabajo.id']}">
                        <h:outputText 
                            value="#{record.id}"/>
                    </p:column>
                    <p:column 
                        headerText="#{bundle['centrotrabajo.nombre']}">
                        <h:outputText 
                            value="#{record.nombre}"/>
                    </p:column>
                    <p:column 
                        headerText="#{bundle['centrotrabajo.descripcion']}">
                        <h:outputText 
                            value="#{record.descripcion}"/>
                    </p:column>
                    <p:column 
                        headerText="#{bundle['centrotrabajo.direccion']}">
                        <h:outputText 
                            value="#{record.direccion}"/>
                    </p:column>
                    <p:column 
                        headerText="#{bundle['centrotrabajo.estado']}">
                        <h:outputText 
                            value="#{record.estado}"/>
                    </p:column>
                </p:dataTable>
            </h:form>
            <h:form
                id="frmDetail"
                prependId="false"
                rendered="#{centroTrabajoController.showDetails}">
                <p:toolbar
                    id="tbDetails">
                    <f:facet name="left">
                        <h:outputText 
                            value="#{bundle['centrotrabajo.title']}"
                            styleClass="toolbar-title"/>
                    </f:facet>
                    <f:facet 
                        name="right">
                        <p:commandButton 
                            title="#{bundle['commons.btn.back']}"
                            icon="ui-icon-arrowreturn-1-w"
                            actionListener="#{centroTrabajoController.onBack()}"
                            disabled="#{centroTrabajoController.editable}"
                            update=":main"/>
                        <p:commandButton 
                            title="#{bundle['commons.btn.edit']}"
                            icon="ui-icon-pencil"
                            actionListener="#{centroTrabajoController.onEdit()}"
                            disabled="#{centroTrabajoController.editable}"
                            update="frmDetail"/>
                        <p:commandButton 
                            title="#{bundle['commons.btn.remove']}"
                            icon="ui-icon-trash"
                            actionListener="#{centroTrabajoController.onDelete()}"
                            immediate="true"
                            disabled="#{centroTrabajoController.newRecord}"
                            update=":main">
                            <p:confirm 
                                header="#{bundle['commons.cfmdlg.header']}" 
                                message="#{bundle['commons.cfmdlg.remove.message']}" 
                                icon="ui-icon-alert" />
                        </p:commandButton>
                    </f:facet>
                </p:toolbar>
                <p:panel>
                    <div class="row">
                        <p:panel
                            id="pnlDetails">
                            <p:panelGrid
                                columns="2">
                                <!-- nombre -->
                                <p:outputLabel
                                    for="nombre"
                                    value="#{bundle['centrotrabajo.nombre']}"/>
                                <h:outputText
                                    value="#{centroTrabajoController.selected.nombre}"
                                    rendered="#{!centroTrabajoController.editable}"/>
                                <p:inputText
                                    id="nombre"
                                    value="#{centroTrabajoController.selected.nombre}"
                                    rendered="#{centroTrabajoController.editable}"/>
                                <!-- descripcion -->
                                <p:outputLabel
                                    for="descripcion"
                                    value="#{bundle['centrotrabajo.descripcion']}"/>
                                <h:outputText
                                    value="#{centroTrabajoController.selected.descripcion}"
                                    rendered="#{!centroTrabajoController.editable}"/>
                                <p:inputText
                                    id="descripcion"
                                    value="#{centroTrabajoController.selected.descripcion}"
                                    rendered="#{centroTrabajoController.editable}"/>
                                <!-- direccion -->
                                <p:outputLabel
                                    for="direccion"
                                    value="#{bundle['centrotrabajo.direccion']}"/>
                                <h:outputText
                                    value="#{centroTrabajoController.selected.direccion}"
                                    rendered="#{!centroTrabajoController.editable}"/>
                                <p:inputText
                                    id="direccion"
                                    value="#{centroTrabajoController.selected.direccion}"
                                    rendered="#{centroTrabajoController.editable}"/>
                                <!-- estado -->
                                <p:outputLabel
                                    for="estado"
                                    value="#{bundle['centrotrabajo.estado']}"/>
                                <p:selectBooleanButton 
                                    id="estado" 
                                    value="#{centroTrabajoController.selected.estado}" 
                                    onLabel="#{bundle['commons.lbl.active']}" 
                                    offLabel="#{bundle['commons.lbl.inactive']}" 
                                    style="width:80px" 
                                    disabled="#{!centroTrabajoController.editable}"/>
                            </p:panelGrid>
                            <f:facet name="footer">
                                <p:commandButton 
                                    title="#{bundle['commons.btn.save']}"
                                    icon="ui-icon-disk"
                                    actionListener="#{centroTrabajoController.onSave()}"
                                    rendered="#{centroTrabajoController.editable}"
                                    process="pnlDetails"
                                    update=":frmMessage frmDetail"/>
                                <p:commandButton 
                                    title="#{bundle['commons.btn.cancel']}"
                                    icon="ui-icon-circle-close"
                                    actionListener="#{centroTrabajoController.onCancel()}"
                                    immediate="true"
                                    rendered="#{centroTrabajoController.editable}"
                                    update=":main"/>
                            </f:facet>
                        </p:panel>
                    </div>
                </p:panel>
            </h:form>
        </h:panelGroup>
    </ui:define>
</ui:composition>